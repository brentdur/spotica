FROM python:2.7

ENV DJANGO_APP=web
ENV SPOTICA_SRVHOME=/usr/django/app

COPY spotica $SPOTICA_SRVHOME
WORKDIR $SPOTICA_SRVHOME
# RUN pip install -r requirements.txt
# FROM python:2.7

# MAINTAINER Chelsea Valentine


# # RUN apt-get install mysql-server libmysqlclient-dev python-dev python-virtualenv

# ENV SPOTICA_SRC=app
# ENV SPOTICA_SRVHOME=/home/
# ENV SPOTICA_SRVPROJ=/home/app

# VOLUME ["$SPOTICA_SRVHOME"]

# COPY $SPOTICA_SRC $SPOTICA_SRVHOME
# EXPOSE 8000

# WORKDIR $SPOTICA_SRVHOME

# RUN pip install -r requirements.txt

# RUN ./manage.py runserver

ENTRYPOINT ["./start.sh"]

# # The Docker image our image is based on
# FROM baxeico/django-uwsgi-nginx:latest

# # Dockerfile author
# MAINTAINER Chelsea Valentine

# # RUN ls home/docker/code/app/website
# ## Use our files
# # Local directory with project source
# ENV SPOTICA_SRC=app
# # RUN ls $SPOTICA_SRC

# # Directory in container for all project files
# ENV SPOTICA_HOME=/home/docker/code/app

# # Directory in container for project source files
# ENV SPOTICA_PROJ=/home/docker/code/app

# # Create application subdirectories

# # RUN mkdir media static logs
# # VOLUME ["$SPOTICA_HOME", "$SPOTICA_HOME/logs/"]
# VOLUME ["$SPOTICA_HOME"]

# # Copy application source code to our SRC directory
# RUN cat /home/docker/code/app/website/settings.py
# COPY $SPOTICA_SRC $SPOTICA_HOME
# RUN cat /home/docker/code/uwsgi_params
# RUN cat /home/docker/code/uwsgi.ini
# RUN cat /home/docker/code/supervisor-app.conf
# # RUN cat $SPOTICA_PROJ/web/views.py

# # Install the Python dependencies
# RUN pip install -r $SPOTICA_HOME/requirements.txt

# # Expose our project to port 80
# # EXPOSE 80

# # Copy our entry point script into the image
# # WORKDIR $SPOTICA_PROJ
# # COPY ./docker-entrypoint.sh /
# # COPY ./manage.py $SPOTICA_HOME
# # RUN echo "\n\nThis is the default directory"
# # RUN ls
# # RUN python manage.py runserver
# # ENTRYPOINT ["/docker-entrypoint.sh"]

# # RUN mkdir /spotica
# # WORKDIR /spotica
# # ADD requirements.txt /spotica/
# # RUN pip install -r requirements.txt
# # ADD ./spotica /spotica/
# # RUN python manage.py runserver
# # Install software into our image
# # RUN apt-get install python-virtualenv

# # Set up our virtual environment and install everything
# # virtualenv venv
# # source ./venv/bin/activate
# # pip install -r requirements.txt
# # deactivate

# # Run software when image is loaded
# # look up volume command
